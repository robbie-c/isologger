!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.IsoLogger=e()}}(function(){return function e(t,o,r){function n(a,l){if(!o[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=o[a]={exports:{}};t[a][0].call(c.exports,function(e){var o=t[a][1][e];return n(o?o:e)},c,c.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,o){function r(e,t){this.level=e,this.args=t,this.functionName=null,this.fileName=null,this.lineNumber=null,this.columnNumber=null,this.timestamp=null}function n(e){this.lineNumbers=e.lineNumbers||!1,this.timestamps=e.timestamps||!1,this.outputs=[]}function i(e,t){var o=u[e],r=u[t];return console.log(o,r),o>=r||r===l.notset}function a(){}var l={notset:"notset",debug:"debug",log:"log",info:"info",warn:"warn",error:"error"},u={notset:0,debug:10,log:15,info:20,warn:30,error:40};r.prototype.attachCallStackFrame=function(e){e&&(e.getFunctionName&&(this.functionName=e.getFunctionName()),e.getFileName&&(this.fileName=e.getFileName()),e.getLineNumber&&(this.lineNumber=e.getLineNumber()),e.getColumnNumber&&(this.columnNumber=e.getColumnNumber()))},r.prototype.getTimestamp=function(){this.timestamp=Date.now()},n.prototype.addOutput=function(e,t){console.log("add ouput",e,t),this.outputs.push([e,t])},n.prototype._createLogEvent=function(e,t,o){var n=new r(e,t);o&&n.attachCallStackFrame(o),this.timestamps&&n.getTimestamp(),this.produce(n)},n.prototype._myPrepareStackTrace=function(e,t){return t},n.prototype._getCallerCallSite=function(){if(console.log("try to get frame",Error.captureStackTrace,Error.prepareStackTrace),Error.captureStackTrace){var e=new Error,t=Error.prepareStackTrace;Error.prepareStackTrace=this._myPrepareStackTrace,Error.captureStackTrace(e,null);var o=e.stack;return Error.prepareStackTrace=t,console.log("got frame"),o[2]}},n.prototype.debug=function(){var e=this.lineNumbers?this._getCallerCallSite():null;this._createLogEvent(l.debug,arguments,e)},n.prototype.log=function(){var e=this.lineNumbers?this._getCallerCallSite():null;this._createLogEvent(l.log,arguments,e)},n.prototype.info=function(){var e=this.lineNumbers?this._getCallerCallSite():null;this._createLogEvent(l.info,arguments,e)},n.prototype.warn=function(){var e=this.lineNumbers?this._getCallerCallSite():null;this._createLogEvent(l.warn,arguments,e)},n.prototype.error=function(){var e=this.lineNumbers?this._getCallerCallSite():null;this._createLogEvent(l.error,arguments,e)},n.prototype.produce=function(e){console.log("produce"),this.outputs.forEach(function(t){var o=t[0],r=t[1];console.log("got output with",o),i(e.level,o)?"function"==typeof r?r(e):"function"==typeof r.consume&&r.consume(e):console.log("should not receive")})},a.prototype.consume=function(e){if("undefined"!=typeof console){var t,o=[];switch(e.level){case l.error:t=console.error;break;case l.warn:t=console.warn;break;case l.info:t=console.info;break;case l.log:t=console.log;break;case l.debug:t=console.debug;break;default:t=console.log,o.push(e.level)}if(console.log("timestamp",e.timestamp),e.timestamp&&o.push(e.timestamp),e.functionName||e.fileName){var r="";e.functionName&&(r+=e.functionName),e.fileName&&(r&&(r+=" "),r+=e.fileName,e.lineNumber&&(r+="::"+e.lineNumber,e.columnNumber&&(r+="::"+e.columnNumber))),r&&o.push(r)}o.push.apply(o,e.args),t&&t.apply(console,o)}},t.exports={levels:l,Logger:n,ConsoleOutput:a}},{}]},{},[1])(1)});
//# sourceMappingURL=isologger.min.js.map
