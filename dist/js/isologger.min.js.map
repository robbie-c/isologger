{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/isologger.js","isologger.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","IsoLogger","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"LogEvent","level","args","functionName","fileName","lineNumber","columnNumber","timestamp","Logger","opts","lineNumbers","timestamps","outputs","shouldReceive","eventLogLevel","outputLogLevel","eventNumeric","levelStringToNumeric","outputNumeric","levels","notset","ConsoleOutput","debug","log","info","warn","error","prototype","attachCallStackFrame","callStackFrame","getFunctionName","getFileName","getLineNumber","getColumnNumber","getTimestamp","Date","now","addOutput","output","push","_createLogEvent","callSite","event","produce","_myPrepareStackTrace","_","stack","_getCallerCallSite","captureStackTrace","err","originalPrepareStackTrace","prepareStackTrace","stackFrame","arguments","logEvent","forEach","arr","consume","console","func","locationString","apply"],"mappings":"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","file":"isologger.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var levels = {\n  notset: 'notset',\n  debug: 'debug',\n  log: 'log',\n  info: 'info',\n  warn: 'warn',\n  error: 'error'\n};\n\nvar levelStringToNumeric = {\n  notset: 0,\n  debug: 10,\n  log: 15,\n  info: 20,\n  warn: 30,\n  error: 40\n};\n\nfunction LogEvent(level, args) {\n  this.level = level;\n  this.args = args;\n  this.functionName = null;\n  this.fileName = null;\n  this.lineNumber = null;\n  this.columnNumber = null;\n  this.timestamp = null;\n}\n\nLogEvent.prototype.attachCallStackFrame = function attachCallStackFrame(callStackFrame) {\n  if (callStackFrame) {\n    if (callStackFrame.getFunctionName) {\n      this.functionName = callStackFrame.getFunctionName();\n    }\n    if (callStackFrame.getFileName) {\n      this.fileName = callStackFrame.getFileName();\n    }\n    if (callStackFrame.getLineNumber) {\n      this.lineNumber = callStackFrame.getLineNumber();\n    }\n    if (callStackFrame.getColumnNumber) {\n      this.columnNumber = callStackFrame.getColumnNumber();\n    }\n  }\n};\nLogEvent.prototype.getTimestamp = function getTimestamp() {\n  this.timestamp = Date.now();\n};\n\nfunction Logger(opts) {\n  this.lineNumbers = opts.lineNumbers || false;\n  this.timestamps = opts.timestamps || false;\n\n  this.outputs = [];\n}\n\nLogger.prototype.addOutput = function (level, output) {\n  this.outputs.push([level, output]);\n};\nLogger.prototype._createLogEvent = function (level, args, callSite) {\n  var event = new LogEvent(level, args);\n\n  if (callSite) {\n    event.attachCallStackFrame(callSite);\n  }\n\n  if (this.timestamps) {\n    event.getTimestamp();\n  }\n\n  this.produce(event);\n};\nLogger.prototype._myPrepareStackTrace = function (_, stack) {\n  // don't format it, just return raw CallSite objects\n  return stack;\n};\nLogger.prototype._getCallerCallSite = function () {\n  if (Error.captureStackTrace) {\n    var err = new Error();\n\n    var originalPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = this._myPrepareStackTrace;\n    Error.captureStackTrace(err, null);\n    var stack = err.stack;\n    Error.prepareStackTrace = originalPrepareStackTrace;\n\n    // we want the caller's caller\n    return stack[2];\n  }\n};\nLogger.prototype.debug = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.debug, arguments, stackFrame)\n};\nLogger.prototype.log = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.log, arguments, stackFrame)\n};\nLogger.prototype.info = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.info, arguments, stackFrame)\n};\nLogger.prototype.warn = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.warn, arguments, stackFrame)\n};\nLogger.prototype.error = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.error, arguments, stackFrame)\n};\n\nLogger.prototype.produce = function (logEvent) {\n  this.outputs.forEach(function (arr) {\n    var level = arr[0];\n    var output = arr[1];\n    if (shouldReceive(logEvent.level, level)) {\n      if (typeof output === 'function') {\n        output(logEvent);\n      } else if (typeof output.consume === 'function') {\n        output.consume(logEvent);\n      }\n    }\n  });\n};\n\nfunction shouldReceive(eventLogLevel, outputLogLevel) {\n  var eventNumeric = levelStringToNumeric[eventLogLevel];\n  var outputNumeric = levelStringToNumeric[outputLogLevel];\n  return (eventNumeric >= outputNumeric) || outputNumeric === levels.notset;\n}\n\nfunction ConsoleOutput() {\n}\nConsoleOutput.prototype.consume = function consume(logEvent) {\n\n  if (typeof console !== 'undefined') {\n    var args = [];\n\n    var func;\n    switch (logEvent.level) {\n      case levels.error:\n        func = console.error; // eslint-disable-line no-console\n        break;\n      case levels.warn:\n        func = console.warn; // eslint-disable-line no-console\n        break;\n      case levels.info:\n        func = console.info; // eslint-disable-line no-console\n        break;\n      case levels.log:\n        func = console.log; // eslint-disable-line no-console\n        break;\n      case levels.debug:\n        func = console.debug; // eslint-disable-line no-console\n        break;\n      default:\n        func = console.log; // eslint-disable-line no-console\n        args.push(logEvent.level);\n        break;\n    }\n\n    if (logEvent.timestamp) {\n      args.push(logEvent.timestamp);\n    }\n\n    if (logEvent.functionName || logEvent.fileName) {\n      var locationString = '';\n\n      if (logEvent.functionName) {\n        locationString += logEvent.functionName;\n      }\n\n      if (logEvent.fileName) {\n        if (locationString) {\n          locationString += ' ';\n        }\n        locationString += logEvent.fileName;\n        if (logEvent.lineNumber) {\n          locationString += '::' + logEvent.lineNumber;\n          if (logEvent.columnNumber) {\n            locationString += '::' + logEvent.columnNumber;\n          }\n        }\n      }\n\n      if (locationString) {\n        args.push(locationString);\n      }\n    }\n\n    args.push.apply(args, logEvent.args);\n\n    if (func) {\n      func.apply(console, args);\n    }\n  }\n};\n\nmodule.exports = {\n  levels: levels,\n  Logger: Logger,\n  ConsoleOutput: ConsoleOutput\n};\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.IsoLogger = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar levels = {\n  notset: 'notset',\n  debug: 'debug',\n  log: 'log',\n  info: 'info',\n  warn: 'warn',\n  error: 'error'\n};\n\nvar levelStringToNumeric = {\n  notset: 0,\n  debug: 10,\n  log: 15,\n  info: 20,\n  warn: 30,\n  error: 40\n};\n\nfunction LogEvent(level, args) {\n  this.level = level;\n  this.args = args;\n  this.functionName = null;\n  this.fileName = null;\n  this.lineNumber = null;\n  this.columnNumber = null;\n  this.timestamp = null;\n}\n\nLogEvent.prototype.attachCallStackFrame = function attachCallStackFrame(callStackFrame) {\n  if (callStackFrame) {\n    if (callStackFrame.getFunctionName) {\n      this.functionName = callStackFrame.getFunctionName();\n    }\n    if (callStackFrame.getFileName) {\n      this.fileName = callStackFrame.getFileName();\n    }\n    if (callStackFrame.getLineNumber) {\n      this.lineNumber = callStackFrame.getLineNumber();\n    }\n    if (callStackFrame.getColumnNumber) {\n      this.columnNumber = callStackFrame.getColumnNumber();\n    }\n  }\n};\nLogEvent.prototype.getTimestamp = function getTimestamp() {\n  this.timestamp = Date.now();\n};\n\nfunction Logger(opts) {\n  this.lineNumbers = opts.lineNumbers || false;\n  this.timestamps = opts.timestamps || false;\n\n  this.outputs = [];\n}\n\nLogger.prototype.addOutput = function (level, output) {\n  this.outputs.push([level, output]);\n};\nLogger.prototype._createLogEvent = function (level, args, callSite) {\n  var event = new LogEvent(level, args);\n\n  if (callSite) {\n    event.attachCallStackFrame(callSite);\n  }\n\n  if (this.timestamps) {\n    event.getTimestamp();\n  }\n\n  this.produce(event);\n};\nLogger.prototype._myPrepareStackTrace = function (_, stack) {\n  // don't format it, just return raw CallSite objects\n  return stack;\n};\nLogger.prototype._getCallerCallSite = function () {\n  if (Error.captureStackTrace) {\n    var err = new Error();\n\n    var originalPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = this._myPrepareStackTrace;\n    Error.captureStackTrace(err, null);\n    var stack = err.stack;\n    Error.prepareStackTrace = originalPrepareStackTrace;\n\n    // we want the caller's caller\n    return stack[2];\n  }\n};\nLogger.prototype.debug = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.debug, arguments, stackFrame)\n};\nLogger.prototype.log = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.log, arguments, stackFrame)\n};\nLogger.prototype.info = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.info, arguments, stackFrame)\n};\nLogger.prototype.warn = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.warn, arguments, stackFrame)\n};\nLogger.prototype.error = function () {\n  var stackFrame = this.lineNumbers ? this._getCallerCallSite() : null;\n  this._createLogEvent(levels.error, arguments, stackFrame)\n};\n\nLogger.prototype.produce = function (logEvent) {\n  this.outputs.forEach(function (arr) {\n    var level = arr[0];\n    var output = arr[1];\n    if (shouldReceive(logEvent.level, level)) {\n      if (typeof output === 'function') {\n        output(logEvent);\n      } else if (typeof output.consume === 'function') {\n        output.consume(logEvent);\n      }\n    }\n  });\n};\n\nfunction shouldReceive(eventLogLevel, outputLogLevel) {\n  var eventNumeric = levelStringToNumeric[eventLogLevel];\n  var outputNumeric = levelStringToNumeric[outputLogLevel];\n  return (eventNumeric >= outputNumeric) || outputNumeric === levels.notset;\n}\n\nfunction ConsoleOutput() {\n}\nConsoleOutput.prototype.consume = function consume(logEvent) {\n\n  if (typeof console !== 'undefined') {\n    var args = [];\n\n    var func;\n    switch (logEvent.level) {\n      case levels.error:\n        func = console.error; // eslint-disable-line no-console\n        break;\n      case levels.warn:\n        func = console.warn; // eslint-disable-line no-console\n        break;\n      case levels.info:\n        func = console.info; // eslint-disable-line no-console\n        break;\n      case levels.log:\n        func = console.log; // eslint-disable-line no-console\n        break;\n      case levels.debug:\n        func = console.debug; // eslint-disable-line no-console\n        break;\n      default:\n        func = console.log; // eslint-disable-line no-console\n        args.push(logEvent.level);\n        break;\n    }\n\n    if (logEvent.timestamp) {\n      args.push(logEvent.timestamp);\n    }\n\n    if (logEvent.functionName || logEvent.fileName) {\n      var locationString = '';\n\n      if (logEvent.functionName) {\n        locationString += logEvent.functionName;\n      }\n\n      if (logEvent.fileName) {\n        if (locationString) {\n          locationString += ' ';\n        }\n        locationString += logEvent.fileName;\n        if (logEvent.lineNumber) {\n          locationString += '::' + logEvent.lineNumber;\n          if (logEvent.columnNumber) {\n            locationString += '::' + logEvent.columnNumber;\n          }\n        }\n      }\n\n      if (locationString) {\n        args.push(locationString);\n      }\n    }\n\n    args.push.apply(args, logEvent.args);\n\n    if (func) {\n      func.apply(console, args);\n    }\n  }\n};\n\nmodule.exports = {\n  levels: levels,\n  Logger: Logger,\n  ConsoleOutput: ConsoleOutput\n};\n\n},{}]},{},[1])(1)\n});\n\n"],"sourceRoot":"/source/"}